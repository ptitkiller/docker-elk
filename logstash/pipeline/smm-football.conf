input {
	kafka {
		bootstrap_servers => "66.42.61.89:19092"
		topics => [
			"smm-football-feed", 
			"smm-football-comment"
		]
		type => "smm-football"
	}
}

filter {
  json {
    source => "message"
	skip_on_invalid_json => true
  }
}

## Add your filters / logstash plugins configuration here

output {
	if [@metadata][kafka][topic] == "smm-football-feed" {
		elasticsearch {
			hosts => "115.84.183.195:9200"
			index => "smm-football"
			document_type => "feed"
			document_id => "%{pid}"
			doc_as_upsert => true
			action => "update"
		}
	} else if [@metadata][kafka][topic] == "smm-football-comment" {
		elasticsearch {
			hosts => "115.84.183.195:9200"
			index => "smm-football"
			document_type => "comment"
			document_id => "%{pid}"
			doc_as_upsert => true
			action => "update"
		}
	}
}
